<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="Jeu_D_echec.Controls.GamePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Jeu_D_echec.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        
        <!-- Game Header -->
        <Grid x:ConnectionId='2' x:Name="GameHeaderGrid" 
              Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
              BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
              BorderThickness="0,0,0,1"
              Padding="20,15">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Player 1 Info -->
            <StackPanel Grid.Column="0" 
                        HorizontalAlignment="Left">
                <TextBlock x:ConnectionId='15' x:Name="Player1NameText" 
                           Text="Joueur Blanc"
                           FontSize="18" 
                           FontWeight="SemiBold"
                           Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                <TextBlock Text="Blancs"
                           FontSize="14"
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
            </StackPanel>
            
            <!-- Game Status -->
            <StackPanel Grid.Column="1" 
                        HorizontalAlignment="Center">
                <TextBlock x:ConnectionId='13' x:Name="GameStatusText" 
                           Text="En cours"
                           FontSize="16" 
                           FontWeight="Medium"
                           Foreground="{ThemeResource TextFillColorPrimaryBrush}"
                           HorizontalAlignment="Center"/>
                <TextBlock x:ConnectionId='14' x:Name="MoveCountText" 
                           Text="Coup 0"
                           FontSize="12"
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                           HorizontalAlignment="Center"/>
            </StackPanel>
            
            <!-- Player 2 Info -->
            <StackPanel Grid.Column="2" 
                        HorizontalAlignment="Right">
                <TextBlock x:ConnectionId='12' x:Name="Player2NameText" 
                           Text="Joueur Noir"
                           FontSize="18" 
                           FontWeight="SemiBold"
                           Foreground="{ThemeResource TextFillColorPrimaryBrush}"
                           HorizontalAlignment="Right"/>
                <TextBlock Text="Noirs"
                           FontSize="14"
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                           HorizontalAlignment="Right"/>
            </StackPanel>
        </Grid>
        
        <!-- Chess Board -->
        <Grid HorizontalAlignment="Center" 
              VerticalAlignment="Center"
              Margin="0,20,0,100">
            <local:ChessBoard x:ConnectionId='11' x:Name="ChessBoardControl" 
                             Width="600" 
                             Height="600"/>
        </Grid>
        
        <!-- Current Player Indicator -->
        <Border x:ConnectionId='3' x:Name="CurrentPlayerIndicator" 
                Background="{ThemeResource AccentTextFillColorPrimaryBrush}"
                CornerRadius="20"
                Padding="15,8"
                HorizontalAlignment="Center"
                VerticalAlignment="Top"
                Margin="0,100,0,0">
            <TextBlock x:ConnectionId='10' x:Name="CurrentPlayerText" 
                       Text="Tour des blancs"
                       FontSize="14"
                       FontWeight="SemiBold"
                       Foreground="White"/>
        </Border>

        <!-- Game State Alert -->
        <Border x:ConnectionId='4' x:Name="GameStateAlert" 
                Background="{ThemeResource SystemFillColorCriticalBrush}"
                CornerRadius="12"
                Padding="20,15"
                HorizontalAlignment="Center"
                VerticalAlignment="Top"
                Margin="0,150,0,0"
                Visibility="Collapsed">
            <StackPanel HorizontalAlignment="Center" Spacing="8">
                <TextBlock x:ConnectionId='8' x:Name="GameStateTitle" 
                           Text="Échec !"
                           FontSize="18"
                           FontWeight="Bold"
                           Foreground="White"
                           HorizontalAlignment="Center"/>
                <TextBlock x:ConnectionId='9' x:Name="GameStateMessage" 
                           Text="Votre roi est en échec"
                           FontSize="14"
                           Foreground="White"
                           HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>

        <!-- Game Control Buttons -->
        <StackPanel Orientation="Horizontal" 
                    HorizontalAlignment="Center" 
                    VerticalAlignment="Bottom"
                    Margin="0,0,0,20"
                    Spacing="15">
            
            <Button x:ConnectionId='5' x:Name="RequestDrawButton" 
                    Content="Demander match nul"
                                              
                    Style="{StaticResource DefaultButtonStyle}"
                    Padding="15,8"/>
            
            <Button x:ConnectionId='6' x:Name="SaveGameButton" 
                    Content="Sauvegarder"
                                           
                    Style="{StaticResource AccentButtonStyle}"
                    Padding="15,8"/>
            
            <Button x:ConnectionId='7' x:Name="BackToMenuButton" 
                    Content="Retour au menu"
                                             
                    Style="{StaticResource DefaultButtonStyle}"
                    Padding="15,8"/>
        </StackPanel>
    </Grid>
</UserControl>

