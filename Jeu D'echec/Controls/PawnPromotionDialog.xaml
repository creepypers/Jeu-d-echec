<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="Jeu_D_echec.Controls.PawnPromotionDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Jeu_D_echec.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <UserControl.Resources>
        <Style x:Key="PromotionButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{ThemeResource CardBackgroundFillColorDefaultBrush}"/>
            <Setter Property="BorderBrush" Value="{ThemeResource CardStrokeColorDefaultBrush}"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="MinWidth" Value="80"/>
            <Setter Property="MinHeight" Value="80"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        
        <Style x:Key="PromotionButtonHoverStyle" TargetType="Button" BasedOn="{StaticResource PromotionButtonStyle}">
            <Setter Property="Background" Value="{ThemeResource AccentFillColorDefaultBrush}"/>
            <Setter Property="Foreground" Value="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
        </Style>
    </UserControl.Resources>

    <Grid Background="Transparent">
        <!-- Dialog Container -->
        <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="2"
                CornerRadius="16"
                Padding="30"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                MinWidth="400">
            
            <StackPanel Spacing="20" HorizontalAlignment="Center">
                <!-- Title -->
                <TextBlock Text="Promotion du pion"
                           FontSize="24"
                           FontWeight="Bold"
                           Foreground="{ThemeResource TextFillColorPrimaryBrush}"
                           HorizontalAlignment="Center"/>
                
                <TextBlock Text="Choisissez la pièce de promotion :"
                           FontSize="16"
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                           HorizontalAlignment="Center"/>
                
                <!-- Promotion Options -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Queen -->
                    <Button Grid.Column="0" 
                            x:Name="QueenButton"
                            Style="{StaticResource PromotionButtonStyle}"
                            Click="OnPromotionSelected"
                            Tag="Queen">
                        <TextBlock Text="♕" FontSize="32"/>
                    </Button>
                    
                    <!-- Rook -->
                    <Button Grid.Column="1" 
                            x:Name="RookButton"
                            Style="{StaticResource PromotionButtonStyle}"
                            Click="OnPromotionSelected"
                            Tag="Rook">
                        <TextBlock Text="♖" FontSize="32"/>
                    </Button>
                    
                    <!-- Bishop -->
                    <Button Grid.Column="2" 
                            x:Name="BishopButton"
                            Style="{StaticResource PromotionButtonStyle}"
                            Click="OnPromotionSelected"
                            Tag="Bishop">
                        <TextBlock Text="♗" FontSize="32"/>
                    </Button>
                    
                    <!-- Knight -->
                    <Button Grid.Column="3" 
                            x:Name="KnightButton"
                            Style="{StaticResource PromotionButtonStyle}"
                            Click="OnPromotionSelected"
                            Tag="Knight">
                        <TextBlock Text="♘" FontSize="32"/>
                    </Button>
                </Grid>
                
                <!-- Piece Names -->
                <Grid Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0" Text="Dame" FontSize="12" HorizontalAlignment="Center"/>
                    <TextBlock Grid.Column="1" Text="Tour" FontSize="12" HorizontalAlignment="Center"/>
                    <TextBlock Grid.Column="2" Text="Fou" FontSize="12" HorizontalAlignment="Center"/>
                    <TextBlock Grid.Column="3" Text="Cavalier" FontSize="12" HorizontalAlignment="Center"/>
                </Grid>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
